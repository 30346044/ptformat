#!/bin/sh

[ -e ../../tests.sh ] && . ../../tests.sh

NAME="PT8 with midi"
FILE=../../bins/midi345x.ptf
EXPECT='ProTools 8 Session: Samplerate = 48000Hz
Target samplerate = 48000

0 wavs, 6 regions, 0 active regions

Audio file (WAV#) @ offset, length:

Region (Region#) (WAV#) @ into-sample, length:
`MIDI 1-01` r(0) w(0) @ 0, 11520000
`MIDI 1-02` r(1) w(0) @ 0, 8000000
`MIDI 1-03` r(2) w(2) @ 0, 8000000
`MIDI 1-04` r(3) w(1) @ 0, 8000000
`MIDI 1-05` r(4) w(1) @ 0, 10000000
`MIDI 3-01` r(5) w(3) @ 0, 4000000

MIDI Region (Region#) @ into-sample, length:
`MIDI 1-01` r(0) @ 0, 8000000
    MIDI: n(48) v(80) @ 0, 400000
    MIDI: n(49) v(80) @ 400000, 400000
    MIDI: n(50) v(80) @ 800000, 400000
    MIDI: n(51) v(80) @ 1200000, 400000
    MIDI: n(52) v(80) @ 1600000, 400000
    MIDI: n(53) v(80) @ 2000000, 400000
    MIDI: n(54) v(80) @ 2400000, 400000
    MIDI: n(55) v(80) @ 2800000, 400000
    MIDI: n(56) v(80) @ 3200000, 400000
    MIDI: n(57) v(80) @ 3600000, 400000
    MIDI: n(58) v(80) @ 4000000, 400000
    MIDI: n(59) v(80) @ 4400000, 400000
    MIDI: n(60) v(80) @ 4800000, 400000
    MIDI: n(61) v(80) @ 5200000, 400000
    MIDI: n(62) v(80) @ 5600000, 400000
    MIDI: n(63) v(80) @ 6000000, 400000
    MIDI: n(64) v(80) @ 6400000, 400000
    MIDI: n(65) v(80) @ 6800000, 400000
    MIDI: n(66) v(80) @ 7200000, 400000
    MIDI: n(67) v(80) @ 7600000, 400000
`MIDI 1-02` r(1) @ 0, 8000000
    MIDI: n(48) v(80) @ 0, 400000
    MIDI: n(49) v(80) @ 400000, 400000
    MIDI: n(50) v(80) @ 800000, 400000
    MIDI: n(51) v(80) @ 1200000, 400000
    MIDI: n(52) v(80) @ 1600000, 400000
    MIDI: n(53) v(80) @ 2000000, 400000
    MIDI: n(54) v(80) @ 2400000, 400000
    MIDI: n(55) v(80) @ 2800000, 400000
    MIDI: n(56) v(80) @ 3200000, 400000
    MIDI: n(57) v(80) @ 3600000, 400000
    MIDI: n(58) v(80) @ 4000000, 400000
    MIDI: n(59) v(80) @ 4400000, 400000
    MIDI: n(60) v(80) @ 4800000, 400000
    MIDI: n(61) v(80) @ 5200000, 400000
    MIDI: n(62) v(80) @ 5600000, 400000
    MIDI: n(63) v(80) @ 6000000, 400000
    MIDI: n(64) v(80) @ 6400000, 400000
    MIDI: n(65) v(80) @ 6800000, 400000
    MIDI: n(66) v(80) @ 7200000, 400000
    MIDI: n(67) v(80) @ 7600000, 400000
`MIDI 1-03` r(2) @ 0, 8000000
    MIDI: n(48) v(127) @ 0, 400000
    MIDI: n(49) v(127) @ 400000, 400000
    MIDI: n(50) v(127) @ 800000, 400000
    MIDI: n(51) v(127) @ 1200000, 400000
    MIDI: n(52) v(127) @ 1600000, 400000
    MIDI: n(53) v(127) @ 2000000, 400000
    MIDI: n(54) v(127) @ 2400000, 400000
    MIDI: n(55) v(127) @ 2800000, 400000
    MIDI: n(56) v(127) @ 3200000, 400000
    MIDI: n(57) v(127) @ 3600000, 400000
    MIDI: n(58) v(127) @ 4000000, 400000
    MIDI: n(59) v(127) @ 4400000, 400000
    MIDI: n(60) v(127) @ 4800000, 400000
    MIDI: n(61) v(127) @ 5200000, 400000
    MIDI: n(62) v(127) @ 5600000, 400000
    MIDI: n(63) v(127) @ 6000000, 400000
    MIDI: n(64) v(127) @ 6400000, 400000
    MIDI: n(65) v(127) @ 6800000, 400000
    MIDI: n(66) v(127) @ 7200000, 400000
    MIDI: n(67) v(127) @ 7600000, 400000
`MIDI 1-04` r(3) @ 0, 8000000
    MIDI: n(48) v(40) @ 0, 400000
    MIDI: n(49) v(40) @ 400000, 400000
    MIDI: n(50) v(40) @ 800000, 400000
    MIDI: n(51) v(40) @ 1200000, 400000
    MIDI: n(52) v(40) @ 1600000, 400000
    MIDI: n(53) v(40) @ 2000000, 400000
    MIDI: n(54) v(40) @ 2400000, 400000
    MIDI: n(55) v(40) @ 2800000, 400000
    MIDI: n(56) v(40) @ 3200000, 400000
    MIDI: n(57) v(40) @ 3600000, 400000
    MIDI: n(58) v(40) @ 4000000, 400000
    MIDI: n(59) v(40) @ 4400000, 400000
    MIDI: n(60) v(40) @ 4800000, 400000
    MIDI: n(61) v(40) @ 5200000, 400000
    MIDI: n(62) v(40) @ 5600000, 400000
    MIDI: n(63) v(40) @ 6000000, 400000
    MIDI: n(64) v(40) @ 6400000, 400000
    MIDI: n(65) v(40) @ 6800000, 400000
    MIDI: n(66) v(40) @ 7200000, 400000
    MIDI: n(67) v(40) @ 7600000, 400000
`MIDI 1-05` r(4) @ 0, 8000000
    MIDI: n(48) v(40) @ 0, 400000
    MIDI: n(49) v(40) @ 400000, 400000
    MIDI: n(50) v(40) @ 800000, 400000
    MIDI: n(51) v(40) @ 1200000, 400000
    MIDI: n(52) v(40) @ 1600000, 400000
    MIDI: n(53) v(40) @ 2000000, 400000
    MIDI: n(54) v(40) @ 2400000, 400000
    MIDI: n(55) v(40) @ 2800000, 400000
    MIDI: n(56) v(40) @ 3200000, 400000
    MIDI: n(57) v(40) @ 3600000, 400000
    MIDI: n(58) v(40) @ 4000000, 400000
    MIDI: n(59) v(40) @ 4400000, 400000
    MIDI: n(60) v(40) @ 4800000, 400000
    MIDI: n(61) v(40) @ 5200000, 400000
    MIDI: n(62) v(40) @ 5600000, 400000
    MIDI: n(63) v(40) @ 6000000, 400000
    MIDI: n(64) v(40) @ 6400000, 400000
    MIDI: n(65) v(40) @ 6800000, 400000
    MIDI: n(66) v(40) @ 7200000, 400000
    MIDI: n(67) v(40) @ 7600000, 400000
`MIDI 3-01` r(5) @ 0, 4000000
    MIDI: n(48) v(127) @ 0, 400000
    MIDI: n(49) v(127) @ 400000, 400000
    MIDI: n(50) v(127) @ 800000, 400000
    MIDI: n(51) v(127) @ 1200000, 400000
    MIDI: n(52) v(127) @ 1600000, 400000
    MIDI: n(53) v(127) @ 2000000, 400000
    MIDI: n(54) v(127) @ 2400000, 400000
    MIDI: n(55) v(127) @ 2800000, 400000
    MIDI: n(56) v(127) @ 3200000, 400000
    MIDI: n(57) v(127) @ 3600000, 400000

Track name (Track#) (Region#) @ Absolute:

MIDI Track name (MIDITrack#) (MIDIRegion#) @ Absolute:
`MIDI 1` mt(0) mr(1) @ 0
`MIDI 1` mt(0) mr(5) @ 8000000
`MIDI 1` mt(0) mr(5) @ 12000000
`MIDI 1` mt(0) mr(5) @ 16000000
`MIDI 1` mt(0) mr(5) @ 20000000
`MIDI 1` mt(0) mr(5) @ 24000000
`MIDI 1` mt(0) mr(5) @ 28000000
`MIDI 1` mt(0) mr(5) @ 32000000
`MIDI 1` mt(0) mr(5) @ 36000000
`MIDI 2` mt(1) mr(2) @ 8000000
`MIDI 2` mt(1) mr(5) @ 16000000
`MIDI 2` mt(1) mr(5) @ 20000000
`MIDI 2` mt(1) mr(5) @ 24000000
`MIDI 2` mt(1) mr(5) @ 28000000
`MIDI 2` mt(1) mr(5) @ 32000000
`MIDI 2` mt(1) mr(5) @ 36000000
`MIDI 3` mt(2) mr(3) @ 16000000
`MIDI 3` mt(2) mr(3) @ 24000000
`MIDI 3` mt(2) mr(3) @ 32000000

Track name (Track#) (WAV filename) @ Absolute + Into-sample, Length:'

run_test
